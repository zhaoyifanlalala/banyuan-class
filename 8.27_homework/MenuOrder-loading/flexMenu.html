<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flex-Menu</title>
    <link rel="stylesheet" href="./static/flexMenu.css">
</head>
<body>
    <div class="menu-container">
        <!-- 菜单内容 -->
        <div class="menu">
            <!-- 菜单上半部：菜名，价格和数量 -->
            <div class="menu-top">
                <!-- 单个菜品 -->
                <div class="food-lists">
                    <div class="food">叉烧芋粒饺</div>
                    <div class="price">$5.95
                        <div class="num-btn">
                            <button class="sub-btn"> - </button>
                            <span>1</span>
                            <button class="add-btn"> + </button>
                        </div>
                    </div>
                </div>
                <!-- 单个菜品 -->
                <div class="food-lists">
                    <div class="food">菜肉饺</div>
                    <div class="price">$6.50
                        <div class="num-btn">
                            <button class="sub-btn"> - </button>
                            <span>1</span>
                            <button class="add-btn"> + </button>
                        </div>
                    </div>
                </div>
                <!-- 单个菜品 -->
                <div class="food-lists">
                    <div class="food">菜饺</div>
                    <div class="price">$6.50
                        <div class="num-btn">
                            <button class="sub-btn"> - </button>
                            <span>1</span>
                            <button class="add-btn"> + </button>
                        </div>
                    </div>
                </div>
                <!-- 单个菜品 -->
                <div class="food-lists">
                    <div class="food">上海锅贴</div>
                    <div class="price">$6.50
                        <div class="num-btn">
                            <button class="sub-btn"> - </button>
                            <span>1</span>
                            <button class="add-btn"> + </button>
                        </div>
                    </div>
                </div>
                <!-- 单个菜品 -->
                <div class="food-lists">
                    <div class="food">煎饺</div>
                    <div class="price">$6.95
                        <div class="num-btn">
                            <button class="sub-btn"> - </button>
                            <span>1</span>
                            <button class="add-btn"> + </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 菜单底部 -->
            <div class="menu-bottom">
                <div class="total-price">
                    <span>总价:</span>
                    <span>$32.4</span>
                </div>
                <!-- 确认下单按钮 -->
                <div class="order-btn">
                    <button class="order-button">确认下单</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal">
        <img src="./static/149ba2d7f906ef179777871db1df11a1.gif" class="modal-img">
    </div>

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js"></script>

    <script>
        let orderBtn = document.getElementsByClassName('order-btn')[0]
        let modal = document.getElementsByClassName('modal')[0]
        let timer

        //节流  短时间之内只能触发一次函数
        orderBtn.onclick = _.throttle(()=>{
            
            modal.style.display = 'flex'
            fakeDismiss()

        },1000)

        function fakeDismiss() {

            if (timer) {
                clearTimeout(timer)
            }
            timer = setInterval(()=>{
                modal.style.display = 'none'
            },4000)

        }  

        


    </script>
</body>
</html>