<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container">

        <div>
        姓名
        <input type="text" class="name"/>
        </div>
        
        <div>
            性别
            <select class="gender">
                <option value="">男</option>
                <option value="">女</option>
            </select>
        </div>
        <div>

        年龄
        <input type="text" class="age"/>
        </div>

        <div>
        班级
        <select class="class">
            <option value="">web</option>
            <option value="">java</option>
        </select>
        </div>

    </div>


    <script>
        let nameEle=document.getElementsByClassName('name')[0];
        let ageEle=document.getElementsByClassName('age')[0];
        let genderEle=document.getElementsByClassName('gender')[0];
        let classEle=document.getElementsByClassName('class')[0];

        window.onload=function(){
            let nameValue=localStorage.getItem('name');
            let ageValue=localStorage.getItem('age');
            let genderValue=localStorage.getItem('gender');
            let classValue=localStorage.getItem('class');

            if(nameValue){
                nameEle.value = nameValue
            }

            if(genderValue){
                let value = getGender()
                genderEle.value = genderValue
            }


            if(ageValue){
                ageEle.value = ageValue
            }

            if(classValue){
                let value = getClass()
                classEle.value = classValue
            }
        }

        genderEle.onchange=function(){
            let value=getGender()
            if(value){
                localStorage.setItem('gender',value)
            }
        }

        classEle.onchange=function(){
            let value=getClass()
            if(value){
                localStorage.setItem('class',value)
            }
        }




        nameEle.onblur=function(){
            let value=nameEle.value;
            if(value){
                localStorage.setItem('name',value)
            }
        }

        function getGender(){
            let index=genderEle.selectedIndex;
            let gender=genderEle.options[index];
            return gender.value;
        }

        ageEle.onblur=function(){
            let value=ageEle.value;
            if(value){
                localStorage.setItem('age',value)
            }
        }

        function getClass(){
            let index=classEle.selectedIndex;
            let classroom=classEle.options[index];
            return classroom.value;
        }
    </script>
</body>
</html>